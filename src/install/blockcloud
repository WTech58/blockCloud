#!/bin/bash

# 切换到 install 目录
cd "$(dirname "$0")"

# 处理命令
case "$1" in
    init)
        make init
        ;;
    addchain)
        shift  # 移除第一个参数
        while [[ "$#" -gt 0 ]]; do
            case "$1" in
                -k)
                    key="$2"
                    shift 2
                    ;;
                -d)
                    data="$2"
                    shift 2
                    ;;
                *)
                    echo "Unknown parameter passed: $1"
                    exit 1
                    ;;
            esac
        done
        # 这里可以调用 Python 脚本或其他逻辑来处理添加区块链
        echo "Adding chain with key: $key and data: $data"
        # 你可以在这里调用 Python 脚本，比如：
        # python3 ../blockchain/add_chain.py -k "$key" -d "$data"
        ;;
    *)
        echo "Usage: $0 {init|addchain}"
        exit 1
        ;;
esac
